<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="xyz.gits.boot.system.mapper.ResourceMapper">

    <!-- 通过角色查询资源信息 -->
    <select id="findResourceByRoleId" resultType="xyz.gits.boot.system.entity.Resource">
		SELECT
			sr.*
		FROM
			system_resource sr
		LEFT JOIN system_role_resource_rel srrr ON sr.resource_id = srrr.resource_id
		WHERE
			sr.delete_flag = '0'
		AND srrr.role_id = #{roleId}
		ORDER BY
			sr.order_num DESC
    </select>

</mapper>
